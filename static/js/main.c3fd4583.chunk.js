(this["webpackJsonpflange-it"]=this["webpackJsonpflange-it"]||[]).push([[0],[,,,,,,,,,,,,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(1),s=n.n(a),i=n(9),c=n.n(i),l=n(2),r=n(3),u=n(5),o=n(4),h=n(0);var j=function(){return Object(h.jsxs)("div",{className:"flange",children:[Object(h.jsx)("div",{className:"flange__inner-diameter"}),Object(h.jsx)("div",{className:"flange__hole"}),Object(h.jsx)("div",{className:"flange__hole"}),Object(h.jsx)("div",{className:"flange__hole"}),Object(h.jsx)("div",{className:"flange__hole"}),Object(h.jsx)("div",{className:"flange__hole"}),Object(h.jsx)("div",{className:"flange__hole"}),Object(h.jsx)("div",{className:"flange__hole"}),Object(h.jsx)("div",{className:"flange__hole"})]})},d=function(e){Object(u.a)(n,e);var t=Object(o.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(r.a)(n,[{key:"render",value:function(){return Object(h.jsxs)("section",{className:"Preview",children:[Object(h.jsx)("h2",{className:"Preview__header",children:"Flanges and bolts preview"}),Object(h.jsxs)("div",{className:"Preview__flanges",children:[Object(h.jsx)("h3",{children:"Flanges"}),Object(h.jsx)("hr",{}),Object(h.jsx)("ul",{children:this.props.flanges.map((function(e,t){return 0!==e[1]?Object(h.jsxs)("li",{children:["DN ",e[0],"; Quantity: ",e[1]]},t):null}))})]}),Object(h.jsxs)("div",{className:"Preview__bolts",children:[Object(h.jsx)("h3",{children:"Bolts"}),Object(h.jsx)("hr",{}),this.props.bolts.map((function(e,t){return 0!==e.quantity?Object(h.jsxs)("li",{children:["Size: ",e.size,"; Length: ",e.length,"; Quantity: ",e.quantity]},t):null}))]})]})}}]),n}(s.a.Component),b=n(7),m=n(6),f=n(24),O=function(e){Object(u.a)(n,e);var t=Object(o.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).handleSubmit=function(e){e.preventDefault(),a.props.onCreate({id:Object(f.a)(),name:a.elementInput.current.value,DN:a.diameterInput.current.value,quantity:"1"})},a.elementInput=s.a.createRef(),a.diameterInput=s.a.createRef(),a}return Object(r.a)(n,[{key:"render",value:function(){return Object(h.jsxs)("section",{className:"ElementCreator",children:[Object(h.jsx)("h2",{className:"ElementCreator__header",children:"Pick element"}),Object(h.jsx)("hr",{}),Object(h.jsxs)("form",{onSubmit:this.handleSubmit,className:"ElementCreator__form",children:[Object(h.jsxs)("label",{children:["Element:"," ",Object(h.jsxs)("select",{className:"ElementCreator__item",ref:this.elementInput,children:[Object(h.jsx)("option",{value:"Strainer",children:"Strainer"}),Object(h.jsx)("option",{value:"Butterfly valve",children:"Butterfly valve"}),Object(h.jsx)("option",{value:"Check valve",children:"Check valve"}),Object(h.jsx)("option",{value:"Other devices",children:"Other devices"})]})]}),Object(h.jsxs)("label",{children:["Nominal diameter:"," ",Object(h.jsxs)("select",{className:"ElementCreator__item",ref:this.diameterInput,children:[Object(h.jsx)("option",{value:"32",children:"DN 32"}),Object(h.jsx)("option",{value:"40",children:"DN 40"}),Object(h.jsx)("option",{value:"50",children:"DN 50"}),Object(h.jsx)("option",{value:"65",children:"DN 65"}),Object(h.jsx)("option",{value:"80",children:"DN 80"}),Object(h.jsx)("option",{value:"100",children:"DN 100"}),Object(h.jsx)("option",{value:"125",children:"DN 125"}),Object(h.jsx)("option",{value:"150",children:"DN 150"}),Object(h.jsx)("option",{value:"200",children:"DN 200"})]})]}),this.props.hasAlreadyBeenPicked?Object(h.jsx)("p",{style:{color:"red"},children:"You've already picked that element. Choose a different one."}):null,Object(h.jsx)("button",{className:"ElementCreator__submit-button",children:"Add element"})]})]})}}]),n}(s.a.Component);var g=function(e){var t=e.name,n=e.DN,a=e.onChange,s=e.onDelete;return Object(h.jsx)(h.Fragment,{children:Object(h.jsxs)("li",{className:"Element",children:[t,"; DN ",n," ",Object(h.jsxs)("label",{children:["Quantity: ",Object(h.jsx)("input",{onChange:a,type:"number"})]}),Object(h.jsx)("button",{onClick:s,children:"Delete"})]})})},N=[{DN:"32",size:"M16",length:60,quantity:4},{DN:"40",size:"M16",length:60,quantity:4},{DN:"50",size:"M16",length:70,quantity:4},{DN:"65",size:"M16",length:70,quantity:8},{DN:"80",size:"M16",length:70,quantity:8},{DN:"100",size:"M16",length:70,quantity:8},{DN:"125",size:"M16",length:70,quantity:8},{DN:"150",size:"M20",length:70,quantity:8},{DN:"200",size:"M20",length:75,quantity:12},{DN:"250",size:"M24",length:85,quantity:12}],v=[{DN:"32",size:"M16",length:110,quantity:4},{DN:"40",size:"M16",length:120,quantity:4},{DN:"50",size:"M16",length:120,quantity:4},{DN:"65",size:"M16",length:120,quantity:8},{DN:"80",size:"M16",length:120,quantity:8},{DN:"100",size:"M16",length:120,quantity:8},{DN:"125",size:"M16",length:130,quantity:8},{DN:"150",size:"M20",length:130,quantity:8},{DN:"200",size:"M20",length:135,quantity:12},{DN:"250",size:"M24",length:150,quantity:12}],y=[{DN:"40",size:"M16",length:75,quantity:4},{DN:"50",size:"M16",length:85,quantity:4},{DN:"65",size:"M16",length:85,quantity:8},{DN:"80",size:"M16",length:90,quantity:8},{DN:"100",size:"M16",length:90,quantity:8},{DN:"125",size:"M16",length:90,quantity:8},{DN:"150",size:"M20",length:90,quantity:8},{DN:"200",size:"M20",length:105,quantity:12},{DN:"250",size:"M24",length:120,quantity:12}],D=function(e){Object(u.a)(n,e);var t=Object(o.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).state={elements:[{id:Object(f.a)(),name:"Strainer",DN:"40",quantity:1},{id:Object(f.a)(),name:"Butterfly valve",DN:"32",quantity:1},{id:Object(f.a)(),name:"Check valve",DN:"50",quantity:1}],flanges:{},bolts:[],hasAlreadyBeenPicked:!1},e.addElement=function(t){e.setState((function(n){if(n.elements.every((function(e){return e.name!==t.name||e.DN!==t.DN}))){e.setState({hasAlreadyBeenPicked:!1});var a=[].concat(Object(m.a)(n.elements),[t]);return e.countFlanges(a),e.countBolts(a),{elements:a}}e.setState({hasAlreadyBeenPicked:!0});var s=Object(m.a)(n.elements);return e.countFlanges(s),e.countBolts(s),{elements:s}}))},e.handleDelete=function(t){e.setState((function(n){var a=n.elements.filter((function(e,n){return n!==t}));return e.countFlanges(a),e.countBolts(a),{elements:a}}))},e.handleUpdate=function(t,n){e.setState((function(a){var s=a.elements.map((function(e,a){return a===t?n:e}));return e.countFlanges(s),e.countBolts(s),{elements:s}}))},e.handleCreate=function(t){e.addElement(t)},e}return Object(r.a)(n,[{key:"countFlanges",value:function(e){var t=e.reduce((function(e,t){return e[t.DN]||(e[t.DN]=0),e[t.DN]+=2*t.quantity,e}),{});this.props.getFlanges(Object.keys(t).map((function(e){return[e,t[e]]})))}},{key:"countBolts",value:function(e){var t=[];e.forEach((function(e){"Butterfly valve"===e.name&&v.forEach((function(n){if(e.DN===n.DN)switch(e.DN){case"32":case"40":case"50":case"65":case"80":case"100":case"125":case"150":case"200":case"250":t.push({size:n.size,length:n.length,quantity:n.quantity*e.quantity})}})),"Strainer"===e.name&&N.forEach((function(n){if(e.DN===n.DN)switch(e.DN){case"32":case"40":case"50":case"65":case"80":case"100":case"125":case"150":case"200":case"250":t.push({size:n.size,length:n.length,quantity:n.quantity*e.quantity})}})),"Check valve"===e.name&&y.forEach((function(n){if(e.DN===n.DN)switch(e.DN){case"32":case"40":case"50":case"65":case"80":case"100":case"125":case"150":case"200":case"250":t.push({size:n.size,length:n.length,quantity:n.quantity*e.quantity})}}))})),console.log(t),this.props.getBolts(t)}},{key:"render",value:function(){var e=this;return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(O,{hasAlreadyBeenPicked:this.state.hasAlreadyBeenPicked,elements:this.state.elements,onCreate:this.handleCreate}),Object(h.jsxs)("section",{className:"ElementList",children:[Object(h.jsx)("h2",{children:"Element List"}),Object(h.jsx)("hr",{}),Object(h.jsx)("ul",{children:this.state.elements.map((function(t,n){return Object(h.jsx)(g,{onChange:function(a){e.handleUpdate(n,Object(b.a)(Object(b.a)({},t),{},{quantity:a.target.value}))},onDelete:function(){return e.handleDelete(n)},name:t.name,DN:t.DN},t.id)}))})]})]})}}]),n}(s.a.Component),p=function(e){Object(u.a)(n,e);var t=Object(o.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).state={flanges:[],bolts:[]},e.getFlanges=function(t){e.setState({flanges:t})},e.getBolts=function(t){e.setState({bolts:t})},e}return Object(r.a)(n,[{key:"render",value:function(){return Object(h.jsxs)("div",{className:"App",children:[Object(h.jsx)(j,{}),Object(h.jsx)(D,{getFlanges:this.getFlanges,getBolts:this.getBolts}),Object(h.jsx)(d,{flanges:this.state.flanges,bolts:this.state.bolts})]})}}]),n}(s.a.Component);n(16),n(17),n(18),n(19),n(20),n(21),n(22);c.a.render(Object(h.jsx)(s.a.StrictMode,{children:Object(h.jsx)(p,{})}),document.getElementById("root"))}],[[23,1,2]]]);
//# sourceMappingURL=main.c3fd4583.chunk.js.map